{"version":3,"file":"button-expand-collapse/view.js","mappings":"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","sources":["webpack://carkeek-blocks-v2/./src/button-expand-collapse/view.js"],"sourcesContent":["// File#: _1_collapse\n// Usage: codyhouse.co/license\n// Modified by Carkeek Studios to work with WordPress Gutenberg Blocks\n(function() {\n\tMath.easeInOutQuad=function(t,b,c,d){t/=d/2;if(t<1)return c/2*t*t+b;t--;return-c/2*(t*(t-2)-1)+b;};\n\tvar Collapse = function(element) {\n\n\t\tthis.target = document.getElementById( element.getAttribute('aria-controls') );\n\t\tthis.trigger = element;\n\t\tthis.animate = element.getAttribute('data-collapse-animate') == 'on';\n\t\tthis.animating = false;\n\t\tthis.expanded = evaluateMediaQuery(this);\n\n\t\tinitCollapse(this);\n\t};\n\n\tfunction evaluateMediaQuery(element) {\n\t\tvar expanded;\n\t\tconsole.log('evaluateMediaQuery');\n\t\tconsole.log(element);\n\t\tif (window.innerWidth < 768) {\n\t\t\texpanded = element.trigger.getAttribute('data-expanded-mobile') == 'true' ? true : false;\n\t\t} else if (window.innerWidth < 1024) {\n\t\t\texpanded = element.trigger.getAttribute('data-expanded-tablet') == 'true' ? true : false;\n\t\t} else {\n\t\t\texpanded = element.trigger.getAttribute('data-expanded-desktop') == 'true' ? true : false;\n\t\t}\n\t\tconsole.log(\"expanded: \" + expanded);\n\t\treturn expanded;\n\t}\n\n  \n\tfunction initCollapse(element) {\n\t\tif ( element.trigger ) {\n\t\t\t// set initial 'aria-expanded' attribute for trigger elements\n\t\t\tupdateTriggers(element, element.expanded);\n\n\t\t\t// detect click on trigger elements\n\t\t\telement.trigger.addEventListener('click', function(event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tconsole.log('collapseToggle');\n\t\t\t\ttoggleVisibility(element);\n\t\t\t});\n\t\t}\n\n\t\tupdateTarget(element, element.expanded);\n\t\t// custom event\n\t\telement.target.addEventListener('collapseToggle', function(event){\n\t\t\tconsole.log('collapseToggle');\n\t\t\ttoggleVisibility(element);\n\t\t});\n\n\t\tvar delay = 250, // delay between calls\n\t\tthrottled = false, // are we currently throttled?\n\t\tprevWidth = window.innerWidth;\n\t\twindow.addEventListener('resize', function() {\n\t\t\tconsole.log('resize');\n\t\t\t// only run if we're not throttled\n\t\t\tif (!throttled) {\n\n\t\t\t\tconsole.log('resize');\n\t\t\t\t// actual callback action\n\t\t\t\tvar expanded = evaluateMediaQuery(element);\n\t\t\t\tupdateTriggers(element, expanded);\n\t\t\t\tupdateTarget(element, expanded);\n\t\t\t\t// we're throttled!\n\t\t\t\tthrottled = true;\n\t\t\t\t// set a timeout to un-throttle\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthrottled = false;\n\t\t\t\t}, delay);\n\t\t\t}\n\n\t\t});\n\t};\n  \n\tfunction toggleVisibility(element) {\n\t\tvar bool = element.target.classList.contains('cj1-hide');\n\t\tif(element.animating) return;\n\t\telement.animating = true;\n\t\tanimateElement(element, bool);\n\t\tupdateTriggers(element, bool);\n\t};\n  \n\tfunction animateElement(element, bool) {\n\t  // bool === true -> show content\n\t  if(!element.animate || !window.requestAnimationFrame) {\n\t\telement.target.classList.toggle('cj1-hide', !bool);\n\t\telement.animating = false;\n\t\treturn;\n\t  }\n  \n\t  // animate content height\n\t  element.target.classList.remove('cj1-hide');\n\t  var initHeight = !bool ? element.target.offsetHeight: 0,\n\t\tfinalHeight = !bool ? 0 : element.target.offsetHeight;\n  \n\t  element.target.classList.add('cj1-overflow-hidden');\n\t  \n\t  setHeight(initHeight, finalHeight, element.target, 200, function(){\n\t\tif(!bool) element.target.classList.add('cj1-hide');\n\t\telement.target.removeAttribute(\"style\");\n\t\telement.target.classList.remove('cj1-overflow-hidden');\n\t\telement.animating = false;\n\t  }, 'easeInOutQuad');\n\t};\n  \n\tfunction updateTriggers(element, expanded) {\n\t\texpanded ? element.trigger.setAttribute('aria-expanded', 'true') : element.trigger.removeAttribute('aria-expanded');\n\t};\n\tfunction updateTarget(element, expanded) {\n\t\tconsole.log('updateTarget');\n\t\tconsole.log(\"collapsed: \" + expanded);\n\t\texpanded ? element.target.classList.remove('cj1-hide') : element.target.classList.add('cj1-hide');\n\t}\n  \n\tfunction setHeight(start, to, element, duration, cb, timeFunction) {\n\t  var change = to - start,\n\t\tcurrentTime = null;\n\n\t  var animateHeight = function(timestamp){  \n\t\tif (!currentTime) currentTime = timestamp;\n\t\tvar progress = timestamp - currentTime;\n\t\tif(progress > duration) progress = duration;\n\t\tvar val = parseInt((progress/duration)*change + start);\n\t\tif(timeFunction) {\n\t\t\tval = Math[timeFunction](progress, start, to - start, duration);\n\t\t}\n\t\telement.style.height = val+\"px\";\n\t\tif(progress < duration) {\n\t\t\twindow.requestAnimationFrame(animateHeight);\n\t\t} else {\n\t\t\tif(cb) cb();\n\t\t}\n\t  };\n  \n\t  //set the height of the element before starting animation -> fix bug on Safari\n\t  element.style.height = start+\"px\";\n\t  window.requestAnimationFrame(animateHeight);\n\t};\n  \n\twindow.Collapse = Collapse;\n  \n\t//initialize the Collapse objects\n\tfunction initCollapseBlock() {\n\t\tvar collapses = document.getElementsByClassName('js-collapse-btn');\n\t\tconsole.log(collapses);\n\t\tif( collapses.length > 0 ) {\n\t\t\tfor( var i = 0; i < collapses.length; i++) {\n\t\t\t\tnew Collapse(collapses[i]);\n\t\t\t}\n\t\t}\n\t}\n\tinitCollapseBlock();\n\t// window.resize event listener\n\n  }());\n\n\n"],"names":["Math","easeInOutQuad","t","b","c","d","Collapse","element","target","document","getElementById","getAttribute","trigger","animate","animating","expanded","evaluateMediaQuery","initCollapse","console","log","window","innerWidth","updateTriggers","addEventListener","event","preventDefault","toggleVisibility","updateTarget","delay","throttled","prevWidth","setTimeout","bool","classList","contains","animateElement","requestAnimationFrame","toggle","remove","initHeight","offsetHeight","finalHeight","add","setHeight","removeAttribute","setAttribute","start","to","duration","cb","timeFunction","change","currentTime","animateHeight","timestamp","progress","val","parseInt","style","height","initCollapseBlock","collapses","getElementsByClassName","length","i"],"sourceRoot":""}