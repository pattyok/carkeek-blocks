!function(){"use strict";var e=window.wp.blocks,t=window.wp.element,r=window.wp.i18n,a=window.wp.blockEditor,c=window.wp.components,o=(0,a.withColors)("backgroundColor","color")((function(e){const{attributes:o,setAttributes:l,setColor:s,setBackgroundColor:n,color:i,backgroundColor:m}=e,{textBefore:u,numberVal:k,max:d,textAfter:p,isPercentage:g,colorHex:f}=o,b=g?100:d,x=(b-k)/b*(290*Math.PI),h=(0,a.useBlockProps)();return(0,t.createElement)("div",h,(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(c.PanelBody,null,(0,t.createElement)(c.ToggleControl,{label:"Express as a Percentage",checked:g,onChange:e=>l({isPercentage:e})}),!g&&(0,t.createElement)(c.__experimentalNumberControl,{tagName:"span",isShiftStepEnabled:!0,className:"ck-circle-counter--number",onChange:e=>l({max:parseInt(e)}),shiftStep:1,value:d,label:(0,r.__)("Max Value","carkeek-blocks")})),(0,t.createElement)(a.PanelColorSettings,{title:(0,r.__)("Color settings"),colorSettings:[{value:i.color,onChange:function(e){s(e),l({colorHex:e})},label:(0,r.__)("Circle color")},{value:m.color,onChange:function(e){n(e),l({backgroundColorHex:e})},label:(0,r.__)("Background color")}]})),(0,t.createElement)(a.RichText,{tagName:"div",value:u,className:"ck-circle-counter--text before",onChange:e=>l({textBefore:e}),placeholder:(0,r.__)("Text before","carkeek-blocks")}),(0,t.createElement)(c.__experimentalNumberControl,{tagName:"span",isShiftStepEnabled:!0,className:"ck-circle-counter--number",onChange:e=>l({numberVal:parseInt(e)}),shiftStep:1,value:k,max:b,min:0,isDragEnabled:!0}),g&&(0,t.createElement)("span",{className:"ck-circle-counter--percentage"},"%"),(0,t.createElement)(a.RichText,{tagName:"div",value:p,className:"ck-circle-counter--text after",onChange:e=>l({textAfter:e}),placeholder:(0,r.__)("Text after","carkeek-blocks")}),(0,t.createElement)("div",{className:"ck-circle-counter--circle"},(0,t.createElement)("svg",{class:"svg",viewBox:"0 0 300 300",version:"1.1",preserveAspectRatio:"xMinYMin meet"},(0,t.createElement)("circle",{class:"ck-bar-bg",r:"145",cx:"150",cy:"150","stroke-width":"10",stroke:m.color,fill:"transparent","stroke-dasharray":"911.06","stroke-dashoffset":"0"}),(0,t.createElement)("circle",{class:"ck-bar",r:"145",cx:"150",cy:"150",stroke:i.color,fill:"transparent","stroke-dasharray":"911.06","stroke-width":"10","stroke-dashoffset":x,transform:"rotate(-90.1 150 150)"}))))}));window.wp.data;var l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"carkeek-blocks/circle-counter","version":"0.1.0","title":"Circle Counter","category":"widgets","description":"Create a circle chart.","supports":{"html":false,"align":false,"typography":{"fontSize":true}},"textdomain":"carkeek-blocks","attributes":{"numberVal":{"type":"number","default":0},"isPercentage":{"type":"boolean","default":true},"max":{"type":"number","default":"1000"},"textBefore":{"type":"string","default":""},"textAfter":{"type":"string","default":""},"color":{"type":"string"},"customColor":{"type":"string"},"colorHex":{"type":"string"},"backgroundColor":{"type":"string"},"customBackgroundColor":{"type":"string"},"backgroundColorHex":{"type":"string"}},"editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,e.registerBlockType)(l,{edit:o,save:function(e){console.log(e);const{attributes:r}=e,{textBefore:c,textAfter:o,numberVal:l,max:s,isPercentage:n,backgroundColor:i,color:m,customBackgroundColor:u,customColor:k}=r;let d={},p={};void 0!==k?d.stroke=k:void 0!==m&&(d.stroke="var(--wp--preset--color--"+m+")"),void 0!==u?p.stroke=u:void 0!==i&&(p.stroke="var(--wp--preset--color--"+i+")");const g=n?100:s,f=(g-l)/g*(290*Math.PI),b=a.useBlockProps.save();return(0,t.createElement)("div",b,(0,t.createElement)(a.RichText.Content,{tagName:"div",className:"ck-circle-counter--text before",value:c}),(0,t.createElement)("div",{className:"ck-circle-counter--number"},(0,t.createElement)("span",{className:"ck-circle-counter--number-val"},l),n&&(0,t.createElement)("span",{className:"ck-circle-counter--percentage"},"%")),(0,t.createElement)(a.RichText.Content,{tagName:"div",className:"ck-circle-counter--text after",value:o}),(0,t.createElement)("div",{className:"ck-circle-counter--circle"},(0,t.createElement)("svg",{class:"svg",viewBox:"0 0 300 300",version:"1.1",preserveAspectRatio:"xMinYMin meet"},(0,t.createElement)("circle",{class:"ck-bar-bg",r:"145",cx:"150",cy:"150","stroke-width":"10",style:p,fill:"transparent","stroke-dasharray":"911.06","stroke-dashoffset":"0"}),(0,t.createElement)("circle",{class:"ck-bar",r:"145",cx:"150",cy:"150",style:d,fill:"transparent","stroke-dasharray":"911.06","stroke-width":"10","stroke-dashoffset":f,transform:"rotate(-90.1 150 150)"}))))}})}();