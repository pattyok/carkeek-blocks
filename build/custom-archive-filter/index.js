(()=>{"use strict";var e,t={44:()=>{const e=window.wp.blocks,t=window.React,l=window.wp.components,r=window.wp.data,a=window.wp.i18n,n=window.wp.blockEditor,o=window.wp.element,c=(0,r.withSelect)(((e,t)=>{const{attributes:l}=t,{taxonomySelected:r}=l,{getEntityRecords:a,getTaxonomies:n}=e("core"),o=a("taxonomy",r,{per_page:-1});let c=n({per_page:-1});return{taxonomies:c,taxSelected:Array.isArray(c)&&1==c.length?c[0]:r,taxTerms:o}}))((function(e){const{attributes:r,setAttributes:c,clientId:s,name:i,taxonomies:m,taxTerms:d}=e,{taxonomySelected:u,taxTermsSelected:p,taxTermsIncludeExclude:k,termOption:b,filterLabel:g}=r;let h=[];if(m&&(h=m.map((e=>({value:e.slug,label:e.name})))),!u){const e={value:null,label:"Select a Taxonomy"};h.unshift(e)}const[f,v]=(0,o.useState)(d);(0,o.useEffect)((()=>{d&&d.length>0&&("some"==b&&p&&p.length>0?v("include"==k?d.filter((e=>p.includes(e.id.toString()))):d.filter((e=>!p.includes(e.id.toString())))):v(d))}),[p,b,k,d]);const x=(0,t.createElement)(t.Fragment,null,m&&m.length>0?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.SelectControl,{label:(0,a.__)("Select Taxonomy","carkeek-blocks"),onChange:e=>c({taxonomySelected:e}),options:h,value:u})):(0,t.createElement)("div",{className:"ck-error"},(0,a.__)("There are no taxonomies assigned this post type.","carkeek-blocks")),u&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.RadioControl,{label:(0,a.__)("All Terms or Specific Terms?"),selected:b,options:[{label:(0,a.__)("All"),value:"all"},{label:(0,a.__)("Some"),value:"some"}],onChange:e=>c({termOption:e})}),"some"==b&&(0,t.createElement)(t.Fragment,null,d&&d.length>0?(0,t.createElement)(l.SelectControl,{multiple:!0,label:(0,a.__)("Select Terms","carkeek-blocks"),onChange:e=>c({taxTermsSelected:e}),options:d&&d.map((e=>({value:e.id,label:e.name}))),value:p,help:(0,a.__)("To select multiple [shift]-click","carkeek-blocks")}):(0,t.createElement)("div",{className:"ck-error"},(0,a.__)("There are no terms assigned to this taxonomy.","carkeek-blocks")),p&&(0,t.createElement)(l.RadioControl,{label:(0,a.__)("Include or Exclude Terms"),selected:k,options:[{label:(0,a.__)("Include"),value:"include"},{label:(0,a.__)("Exclude"),value:"exclude"}],onChange:e=>c({taxTermsIncludeExclude:e})})))),y=(0,n.useBlockProps)();return(0,t.createElement)("div",{...y},(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Filter Settings","carkeek-blocks")},x),(0,t.createElement)(l.PanelBody,{title:(0,a.__)("Layout Settings","carkeek-blocks")},(0,t.createElement)(l.TextControl,{label:"Filter Label",value:g,onChange:e=>c({filterLabel:e})}))),(0,t.createElement)("div",{className:"ck-filter-label"},g),(0,t.createElement)("div",null,u?(0,t.createElement)(t.Fragment,null,f&&f.length>0?(0,t.createElement)("div",{className:"ck-term-filters"},f.map((e=>(0,t.createElement)("span",{key:e.id,className:"ck-term-filter"},e.name)))):(0,t.createElement)("div",{className:"ck-error"},(0,a.__)("There are no terms assigned to this taxonomy.","carkeek-blocks"))):(0,t.createElement)("div",{className:"ck-error"},(0,a.__)("Please select a taxonomy.","carkeek-blocks"))))})),s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"carkeek-blocks/custom-archive-filter","title":"Custom Post Type Archive Filter","category":"widgets","description":"Simple filter for the Custom Post Type Archive.","keywords":["archive","posts","list","filter"],"version":"1.0.0","textdomain":"carkeek-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php","icon":"filter","supports":{"align":["wide","full","left","center","right"],"anchor":true,"color":{"background":true,"text":true,"link":true}},"attributes":{"filterLabel":{"type":"string","default":""},"taxonomySelected":{"type":"string","default":""},"termOption":{"type":"string","default":"all"},"taxTermsSelected":{"type":"array","default":""},"taxTermsIncludeExclude":{"type":"string","default":"include"}}}');(0,e.registerBlockType)(s,{edit:c})}},l={};function r(e){var a=l[e];if(void 0!==a)return a.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,l,a,n)=>{if(!l){var o=1/0;for(m=0;m<e.length;m++){for(var[l,a,n]=e[m],c=!0,s=0;s<l.length;s++)(!1&n||o>=n)&&Object.keys(r.O).every((e=>r.O[e](l[s])))?l.splice(s--,1):(c=!1,n<o&&(o=n));if(c){e.splice(m--,1);var i=a();void 0!==i&&(t=i)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[l,a,n]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={123:0,731:0};r.O.j=t=>0===e[t];var t=(t,l)=>{var a,n,[o,c,s]=l,i=0;if(o.some((t=>0!==e[t]))){for(a in c)r.o(c,a)&&(r.m[a]=c[a]);if(s)var m=s(r)}for(t&&t(l);i<o.length;i++)n=o[i],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(m)},l=globalThis.webpackChunkcarkeek_blocks_v2=globalThis.webpackChunkcarkeek_blocks_v2||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=r.O(void 0,[731],(()=>r(44)));a=r.O(a)})();