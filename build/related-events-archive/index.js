(()=>{"use strict";var e,t={470:(e,t,l)=>{const a=window.React,n={};n.layout=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",x:"0",y:"0",viewBox:"0 0 100 100"},(0,a.createElement)("path",{d:"M66.046 50.783H33.953a1.344 1.344 0 010-2.688h32.092a1.344 1.344 0 01.001 2.688zM54.281 55.71h-8.563a1.344 1.344 0 010-2.688h8.563a1.344 1.344 0 010 2.688zM33.876 78.937H16.903a1.344 1.344 0 01-1.344-1.344V60.62c0-.742.602-1.344 1.344-1.344h16.974c.742 0 1.344.602 1.344 1.344v16.973a1.346 1.346 0 01-1.345 1.344zm-15.63-2.688h14.286V61.964H18.246v14.285zM58.486 78.937H41.512a1.344 1.344 0 01-1.344-1.344V60.62c0-.742.602-1.344 1.344-1.344h16.974c.742 0 1.344.602 1.344 1.344v16.973c0 .742-.602 1.344-1.344 1.344zm-15.63-2.688h14.286V61.964H42.856v14.285zM83.096 78.937H66.123a1.344 1.344 0 01-1.344-1.344V60.62c0-.742.602-1.344 1.344-1.344h16.973c.742 0 1.344.602 1.344 1.344v16.973c0 .742-.602 1.344-1.344 1.344zm-15.629-2.688h14.285V61.964H67.467v14.285z"}),(0,a.createElement)("g",null,(0,a.createElement)("path",{d:"M50 45.009a5.115 5.115 0 01-5.11-5.11 5.115 5.115 0 015.11-5.11 5.115 5.115 0 015.109 5.11A5.115 5.115 0 0150 45.009zm0-7.531a2.425 2.425 0 00-2.422 2.422c0 1.335 1.087 2.422 2.422 2.422s2.421-1.086 2.421-2.422A2.424 2.424 0 0050 37.478z"})),(0,a.createElement)("g",null,(0,a.createElement)("path",{d:"M93.656 15.452H6.344A1.34 1.34 0 005 16.796v66.408a1.34 1.34 0 001.344 1.344h87.312c.739 0 1.344-.598 1.344-1.344V16.796c0-.746-.605-1.344-1.344-1.344zM92.312 81.86H7.688V30.329h84.624V81.86zm0-54.219H7.688V18.14h84.624v9.501z"})),(0,a.createElement)("g",null,(0,a.createElement)("ellipse",{cx:"13.173",cy:"22.714",rx:"2.108",ry:"2.103"})),(0,a.createElement)("g",null,(0,a.createElement)("ellipse",{cx:"19.919",cy:"22.714",rx:"2.108",ry:"2.103"})),(0,a.createElement)("g",null,(0,a.createElement)("ellipse",{cx:"26.665",cy:"22.714",rx:"2.108",ry:"2.103"}))),n.grid=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",x:"0",y:"0",viewBox:"0 0 100 100"},(0,a.createElement)("path",{d:"M5 95h90V5H5v90zm5-85h80v80H10V10z"}),(0,a.createElement)("path",{d:"M15 15H85V30H15z"}),(0,a.createElement)("path",{d:"M15 37.5H35V42.5H15z"}),(0,a.createElement)("path",{d:"M40 37.5H60V42.5H40z"}),(0,a.createElement)("path",{d:"M65 37.5H85V42.5H65z"}),(0,a.createElement)("path",{d:"M15 45H35V47.5H15z"}),(0,a.createElement)("path",{d:"M15 50H35V52.5H15z"}),(0,a.createElement)("path",{d:"M15 55H35V57.5H15z"}),(0,a.createElement)("path",{d:"M40 45H60V47.5H40z"}),(0,a.createElement)("path",{d:"M40 50H60V52.5H40z"}),(0,a.createElement)("path",{d:"M40 55H60V57.5H40z"}),(0,a.createElement)("path",{d:"M65 45H85V47.5H65z"}),(0,a.createElement)("path",{d:"M65 50H85V52.5H65z"}),(0,a.createElement)("path",{d:"M65 55H85V57.5H65z"}),(0,a.createElement)("path",{d:"M15 65H35V70H15z"}),(0,a.createElement)("path",{d:"M40 65H60V70H40z"}),(0,a.createElement)("path",{d:"M65 65H85V70H65z"}),(0,a.createElement)("path",{d:"M15 72.5H35V75H15z"}),(0,a.createElement)("path",{d:"M15 77.5H35V80H15z"}),(0,a.createElement)("path",{d:"M15 82.5H35V85H15z"}),(0,a.createElement)("path",{d:"M40 72.5H60V75H40z"}),(0,a.createElement)("path",{d:"M40 77.5H60V80H40z"}),(0,a.createElement)("path",{d:"M40 82.5H60V85H40z"}),(0,a.createElement)("path",{d:"M65 72.5H85V75H65z"}),(0,a.createElement)("path",{d:"M65 77.5H85V80H65z"}),(0,a.createElement)("path",{d:"M65 82.5H85V85H65z"})),n.logogrid=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",x:"0",y:"0",viewBox:"0 0 16 16"},(0,a.createElement)("path",{style:{WebkitTextIndent:"0",textIndent:"0",WebkitTextTransform:"none",textTransform:"none",blockProgression:"tb"},d:"M.5 1036.362a.52.52 0 00-.5.5v6c0 .262.238.5.5.5h6a.52.52 0 00.5-.5v-6a.52.52 0 00-.5-.5zm9 0a.52.52 0 00-.5.5v6c0 .262.238.5.5.5h6a.52.52 0 00.5-.5v-6a.52.52 0 00-.5-.5zm-8.5 1h5v5H1zm-.5 8a.52.52 0 00-.5.5v6c0 .262.238.5.5.5h6a.52.52 0 00.5-.5v-6a.52.52 0 00-.5-.5zm9 0a.52.52 0 00-.5.5v6c0 .262.238.5.5.5h6a.52.52 0 00.5-.5v-6a.52.52 0 00-.5-.5zm.5 1h5v5h-5z",color:"#000",enableBackground:"accumulate",overflow:"visible",transform:"translate(0 -1036.362)"})),n.listLayout=(0,a.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",x:"0",y:"0",viewBox:"0 0 100 100"},(0,a.createElement)("path",{d:"M5 95h90V5H5v90zm5-85h80v80H10V10z"}),(0,a.createElement)("path",{d:"M15 15H85V30H15z"}),(0,a.createElement)("path",{d:"M32.5 37.5H85V42.5H32.5z"}),(0,a.createElement)("path",{d:"M32.5 45H85V47.5H32.5z"}),(0,a.createElement)("path",{d:"M32.5 50H85V52.5H32.5z"}),(0,a.createElement)("path",{d:"M32.5 55H85V57.5H32.5z"}),(0,a.createElement)("path",{d:"M32.5 65H85V70H32.5z"}),(0,a.createElement)("path",{d:"M32.5 72.5H85V75H32.5z"}),(0,a.createElement)("path",{d:"M32.5 77.5H85V80H32.5z"}),(0,a.createElement)("path",{d:"M32.5 82.5H85V85H32.5z"}),(0,a.createElement)("circle",{cx:"21.3",cy:"43.8",r:"6.3"}),(0,a.createElement)("circle",{cx:"21.3",cy:"71.3",r:"6.3"}));const o=n,r=window.wp.blockEditor,i=window.wp.i18n,s=window.wp.components,c=function(e){const{catTerms:t,catTags:l,venues:n,attributes:o,setAttributes:r}=e,{hideTitle:c,displayField1:m,displayField2:d,displayField3:p,dateFormat:h,timeFormat:u,showEndDate:b}=o,g=[{label:"Select a Field",value:""},{label:"Event Title",value:"title"},{label:"Event Date/Time",value:"startdate"},{label:"Organizer",value:"organizer"},{label:"Venue",value:"venue"},{label:"Excerpt",value:"excerpt"}];let y=!1;return"startdate"!=m&&"startdate"!=d&&"startdate"!=p||(y=!0),(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.ToggleControl,{label:(0,i.__)("Hide Title"),checked:c,onChange:e=>r({hideTitle:e}),help:(0,i.__)("To change the order of the title, hide it add place it with a metafield below.")}),(0,a.createElement)(s.SelectControl,{label:(0,i.__)("Select Metafield 1","carkeek-blocks"),onChange:e=>r({displayField1:e}),options:g,value:m}),(0,a.createElement)(s.SelectControl,{label:(0,i.__)("Select Metafield 2","carkeek-blocks"),onChange:e=>r({displayField2:e}),options:g,value:d}),(0,a.createElement)(s.SelectControl,{label:(0,i.__)("Select Metafield 3","carkeek-blocks"),onChange:e=>r({displayField3:e}),options:g,value:p}),y&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.RadioControl,{label:(0,i.__)("End Date/Time"),selected:b,options:[{label:(0,i.__)("Show end date/time"),value:"show_end_date"},{label:(0,i.__)("Never show end date/time"),value:"naver_show_end_date"}],onChange:e=>r({showEndDate:e})}),(0,a.createElement)("p",null,"Use PHP Date Formats, ",(0,a.createElement)("a",{target:"_blank",rel:"noreferrer",href:"https://wordpress.org/support/article/formatting-date-and-time/"},"Learn how to make your own date format here.")),(0,a.createElement)(s.TextControl,{label:"Date Format",value:h,onChange:e=>r({dateFormat:e})}),(0,a.createElement)(s.TextControl,{label:"Time Format",value:u,onChange:e=>r({timeFormat:e}),help:"Leave blank to hide the time"})))},m=function(e){const{taxonomies:t,postTypes:l,attributes:n,setAttributes:o}=e,{numberOfPosts:m,displayPostExcerpt:d,excerptLength:p,postLayout:h,postTypeSelected:u,taxonomySelected:b,headlineLevel:g,sortBy:y,sortByMeta:E,order:v,columns:k,columnsMobile:_,columnsTablet:f,limitItemsMobile:H,itemsMobile:w,itemsTablet:M,displayFeaturedImage:x,fillTheSlots:C,useHeadingTitle:T,imageOrientation:z,childTermsOnly:V,hideIfEmpty:L,emptyMessage:S,headline:P,morePostsLink:F,morePostsLinkLabel:O,showPublishDate:I,publishDateLocation:B,showTerms:R,showPagination:A,learnMoreLinkTitle:D,showLearnMoreLink:j}=n;let N=[];if(l&&(N=l.map((e=>({value:e.slug,label:e.name})))),!u){const e={value:null,label:"Select a Post Type"};N.unshift(e)}let G=[];if(t&&(G=t.map((e=>({value:e.slug,label:e.name})))),!b){const e={value:null,label:"Select a Taxonomy"};G.unshift(e)}return f||o({columnsTablet:k>3?3:k}),_||o({columnsMobile:1}),(0,a.createElement)(r.InspectorControls,null,(0,a.createElement)(s.PanelBody,{title:(0,i.__)("Posts Settings","carkeek-blocks")},t&&t.length>0&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.SelectControl,{multiple:!0,label:(0,i.__)("Select a Taxonomy","carkeek-blocks"),onChange:e=>o({taxonomySelected:e}),options:G,value:b,help:(0,i.__)("Select a taxonomy on which to build the relationship","carkeek-blocks")}),(0,a.createElement)(s.ToggleControl,{label:(0,i.__)("Match on Child Terms Only","carkeek-blocks"),help:(0,i.__)("Match only on child terms of the selected taxonomy. If no child terms are found, the parent terms will be used."),checked:V,onChange:e=>o({childTermsOnly:e})})),(0,a.createElement)(s.RangeControl,{label:(0,i.__)("Number of Posts","carkeek-blocks"),value:m,help:(0,i.__)("Select -1 to show all"),onChange:e=>o({numberOfPosts:e}),min:-1,max:21}),-1!==m&&(0,a.createElement)(s.ToggleControl,{label:(0,i.__)("Fill the slots with posts "),help:(0,i.__)(`If less than ${m} are found go find more (unrelated) posts?`),checked:C,onChange:e=>o({fillTheSlots:e})})),(0,a.createElement)(s.PanelBody,{title:(0,i.__)("Layout","carkeek-blocks"),initialOpen:!1},(0,a.createElement)(s.RadioControl,{label:(0,i.__)("Layout Style"),selected:h,options:[{label:(0,i.__)("Grid"),value:"grid"},{label:(0,i.__)("List"),value:"list"}],onChange:e=>o({postLayout:e})}),"grid"==h&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.RangeControl,{label:(0,i.__)("Number of Columns","carkeek-blocks"),value:k,onChange:e=>o({columns:e}),min:1,max:6})),(0,a.createElement)(s.ToggleControl,{label:(0,i.__)("Hide Entire Block if no posts found"),checked:L,onChange:e=>o({hideIfEmpty:e})}),!L&&(0,a.createElement)(s.TextControl,{label:"Empty Result Message",value:S,onChange:e=>o({emptyMessage:e})}),L&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.TextControl,{label:"Block Heading",value:P,onChange:e=>o({headline:e})}),(0,a.createElement)(s.TextControl,{label:"More Posts Link",value:F,onChange:e=>o({morePostsLink:e})}),(0,a.createElement)(s.TextControl,{label:"More Posts Link Label",value:O,onChange:e=>o({morePostsLinkLabel:e})}))),(0,a.createElement)(s.PanelBody,{title:(0,i.__)("Item Style","carkeek-blocks"),initialOpen:!1},(0,a.createElement)(s.ToggleControl,{label:(0,i.__)("Use Heading tag for Titles"),checked:T,onChange:e=>o({useHeadingTitle:e})}),T&&(0,a.createElement)(s.RangeControl,{label:(0,i.__)("Post Title Size","carkeek-blocks"),value:g,onChange:e=>o({headlineLevel:e}),min:2,max:6}),(0,a.createElement)(s.ToggleControl,{label:(0,i.__)("Include Featured Image"),checked:x,onChange:e=>o({displayFeaturedImage:e})}),x&&(0,a.createElement)(s.SelectControl,{label:(0,i.__)("Image Orientation","carkeek-blocks"),onChange:e=>o({imageOrientation:e}),options:[{label:(0,i.__)("Landscape 2:3"),value:"landscape"},{label:(0,i.__)("Landscape 3:4"),value:"landscape-34"},{label:(0,i.__)("Portrait 3:2"),value:"portrait"},{label:(0,i.__)("Portrait 4:3"),value:"portrait-43"},{label:(0,i.__)("Square 1:1"),value:"square"}],value:z}),(0,a.createElement)(s.ToggleControl,{label:(0,i.__)("Include Excerpt"),checked:d,onChange:e=>o({displayPostExcerpt:e})}),d&&(0,a.createElement)(s.RangeControl,{label:(0,i.__)("Max number of words in excerpt"),value:p,onChange:e=>o({excerptLength:e}),min:10,max:75}),(0,a.createElement)(c,{...e})),(0,a.createElement)(s.PanelBody,{title:(0,i.__)("Responsive Layout","carkeek-blocks"),initialOpen:!1},"grid"==h&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.RangeControl,{label:(0,i.__)("Columns Mobile","carkeek-blocks"),value:_,onChange:e=>o({columnsMobile:e}),min:1,max:6}),(0,a.createElement)(s.RangeControl,{label:(0,i.__)("Columns Tablet","carkeek-blocks"),value:f,onChange:e=>o({columnsTablet:e}),min:1,max:6})),!A&&(0,a.createElement)(s.ToggleControl,{label:(0,i.__)("Limit the number of posts displayed in Mobile/Tablet"),checked:H,onChange:e=>o({limitItemsMobile:e})}),H&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(s.RangeControl,{label:(0,i.__)("Items to show Mobile","carkeek-blocks"),value:w,onChange:e=>o({itemsMobile:e}),min:1,max:6}),(0,a.createElement)(s.RangeControl,{label:(0,i.__)("Items to show Tablet","carkeek-blocks"),value:M,help:(0,i.__)("Select -1 to show all"),onChange:e=>o({itemsTablet:e}),min:1,max:6}))))},d=window.wp.serverSideRender;var p=l.n(d);const h=(0,window.wp.data.withSelect)(((e,t)=>{const{attributes:l}=t,{taxonomySelected:a}=l,{getEntityRecords:n,getTaxonomies:o}=e("core");let r=o({per_page:-1});return r=Array.isArray(r)?r.filter((e=>e.types.includes("tribe_events"))):r,{taxonomies:r,taxSelected:Array.isArray(r)&&1==r.length?r[0]:a}}))((function(e){const{attributes:t,setAttributes:l,clientId:n,name:c}=e,{postLayout:d,taxonomySelected:h,blockId:u}=t;u||l({blockId:n});const b=(0,r.useBlockProps)();if(!h){const t=(0,i.__)("Select a Taxonomy from the Block Settings");return(0,a.createElement)("div",{...b},(0,a.createElement)(m,{...e}),(0,a.createElement)(s.Placeholder,{icon:o.layout,label:(0,i.__)("Related Events")},t))}return(0,a.createElement)("div",{...b},(0,a.createElement)(m,{...e}),(0,a.createElement)(r.BlockControls,null,(0,a.createElement)(s.ToolbarGroup,{label:"Layout Options"},(0,a.createElement)(s.ToolbarButton,{icon:o.grid,label:"Grid Layout",onClick:()=>l({postLayout:"grid"}),isPrimary:"grid"===d}),(0,a.createElement)(s.ToolbarButton,{icon:o.listLayout,label:"List Layout",onClick:()=>l({postLayout:"list"}),isPrimary:"list"===d}))),(0,a.createElement)(p(),{block:c,attributes:e.attributes}))})),u=window.wp.blocks,b=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"carkeek-blocks/related-events-archive","title":"Related Events Archive","category":"widgets","description":"Related Events Archive.","keywords":["archive","posts","list"],"version":"1.0.0","textdomain":"carkeek-blocks","attributes":{"numberOfPosts":{"type":"number","default":3},"fillTheSlots":{"type":"boolean","default":false},"postTypeSelected":{"type":"string"},"displayPostExcerpt":{"type":"boolean","default":true},"displayFeaturedImage":{"type":"boolean","default":true},"imageOrientation":{"type":"string","default":"landscape"},"postLayout":{"type":"string","default":"grid"},"columns":{"type":"number","default":3},"columnsMobile":{"type":"number","default":1},"columnsTablet":{"type":"number","default":3},"limitItemsMobile":{"type":"boolean","default":false},"itemsMobile":{"type":"number","default":1},"itemsTablet":{"type":"number","default":3},"sortBy":{"type":"string","default":"date"},"sortByMeta":{"type":"string"},"order":{"type":"string","default":"ASC"},"excerptLength":{"type":"number","default":25},"filterByTaxonomy":{"type":"boolean","default":false},"taxonomySelected":{"type":"array"},"hideIfEmpty":{"type":"boolean","default":false},"emptyMessage":{"type":"string","default":""},"headline":{"type":"string","default":""},"morePostsLink":{"type":"string","default":""},"morePostsLinkLabel":{"type":"string","default":""},"useHeadingTitle":{"type":"boolean","default":false},"headlineLevel":{"type":"number","default":2},"className":{"type":"string","default":""},"align":{"type":"string"},"backgroundColor":{"type":"string"},"childTermsOnly":{"type":"boolean","default":false},"hideTitle":{"type":"boolean","default":false},"displayField1":{"type":"string"},"displayField2":{"type":"string"},"displayField3":{"type":"string"},"displayField4":{"type":"string"},"dateFormat":{"type":"string","default":"F j"},"timeFormat":{"type":"string","default":"g:i a"},"showEndDate":{"type":"string","default":"show_end_date"},"style":{"type":"object"}},"supports":{"align":["wide","full","left","center","right"],"color":{"background":true,"text":true},"spacing":{"margin":true,"padding":true,"blockGap":true}},"editorScript":"file:./index.js","style":"file:./style-index.css","render":"file:./render.php"}');(0,u.registerBlockType)(b,{icon:o.layout,edit:h,save:()=>null})}},l={};function a(e){var n=l[e];if(void 0!==n)return n.exports;var o=l[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,l,n,o)=>{if(!l){var r=1/0;for(m=0;m<e.length;m++){for(var[l,n,o]=e[m],i=!0,s=0;s<l.length;s++)(!1&o||r>=o)&&Object.keys(a.O).every((e=>a.O[e](l[s])))?l.splice(s--,1):(i=!1,o<r&&(r=o));if(i){e.splice(m--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[l,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={350:0,930:0};a.O.j=t=>0===e[t];var t=(t,l)=>{var n,o,[r,i,s]=l,c=0;if(r.some((t=>0!==e[t]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(s)var m=s(a)}for(t&&t(l);c<r.length;c++)o=r[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(m)},l=globalThis.webpackChunkcarkeek_blocks_v2=globalThis.webpackChunkcarkeek_blocks_v2||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var n=a.O(void 0,[930],(()=>a(470)));n=a.O(n)})();