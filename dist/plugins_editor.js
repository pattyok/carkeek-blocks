!function(){"use strict";var e=wp.editPost,t=wp.i18n,a=wp.components,n=wp.data,i=wp.compose,l=(0,n.withSelect)((function(e){var t,a,n,i,l,o=e("core/editor").getEditedPostAttribute,r=e("core"),s=r.getMedia,c=(0,r.getPostType)(o("type")),d=!1;return c&&c.supports["custom-fields"]&&c.supports["custom-fields"]&&(d=!0),d&&(t=o("meta")._carkeekblocks_title_hidden,a=o("meta")._carkeekblocks_featuredimage_hidden,n=o("meta")._carkeekblocks_featured_image_focal_point,l=(i=o("featured_media"))?s(i):null),{hideTitle:t,hideFeaturedImage:a,featuredMedia:l,featuredImageFocalPoint:n,supportsMeta:d}})),o=(0,n.withDispatch)((function(e){var t=e("core/editor").editPost;return{setHideTitle:function(e){t({meta:{_carkeekblocks_title_hidden:e}})},setHideFeaturedImage:function(e){t({meta:{_carkeekblocks_featuredimage_hidden:e}})},setFeaturedImageFocalPoint:function(e){t({meta:{_carkeekblocks_featured_image_focal_point:e}})}}})),r=(0,i.compose)(l,o)((function(n){var i,l=n.hideTitle,o=n.setHideTitle,r=n.hideFeaturedImage,s=n.setHideFeaturedImage,c=n.featuredMedia,d=n.featuredImageFocalPoint,u=n.setFeaturedImageFocalPoint,m=n.supportsMeta;if(document.querySelector(".editor-post-title__block")){var p=void 0!==l&&void 0!==l&&l,k=p?"carkeek-blocks-title-hidden":"carkeek-blocks-title-visible";p?document.body.classList.remove("carkeek-blocks-title-visible"):document.body.classList.remove("carkeek-blocks-title-hidden"),document.body.classList.add(k)}if(!r&&c&&c.source_url){var h=c.source_url,g=c.media_details,_=g.width,b=g.height;i=wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.FocalPointPicker,{label:(0,t.__)("Featured Image Focal Point"),url:h,dimensions:{width:_,height:b},value:d,onChange:function(e){return u(e)}}),wp.element.createElement(a.Button,{variant:"secondary",className:"is-secondary",onClick:function(){u({x:.5,y:.5})}},"Reset FocalPoint"))}var f=wp.element.createElement(a.CheckboxControl,{className:"carkeek-hide-featured-image-label",label:"Hide Featured Image",checked:r,onChange:function(e){return s(e)},help:r?(0,t.__)("The Featured Image is hidden on the rendered page.","carkeek-blocks"):(0,t.__)("The Featured Image is visible on the rendered page.","carkeek-blocks")});return wp.element.createElement(e.PluginDocumentSettingPanel,{name:"page-header-settings-panel",title:"Page Header Settings",className:"page-header-settings-panel"},m&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.CheckboxControl,{className:"carkeek-hide-title-label",label:(0,t.__)("Hide Page Title","carkeek-blocks"),checked:l,onChange:function(e){return o(e)},help:l?(0,t.__)("Title is hidden on the rendered page.","carkeek-blocks"):null}),f,i,wp.element.createElement("p",null),wp.element.createElement("p",null,"These settings may not be applied on all pages/posts.")),!m&&wp.element.createElement("p",null,"Not supported for this post type. If you want to use this feature on this post, let your site admin know that this post type must support 'custom-fields'."))}));(0,wp.plugins.registerPlugin)("carkeek-blocks-pageheader",{icon:!1,render:r})}();