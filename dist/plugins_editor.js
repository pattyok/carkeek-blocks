!function(){"use strict";var e=wp.editPost,t=wp.i18n,a=wp.components,o=wp.data,n=wp.compose;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=(0,o.withSelect)((function(e){var t,a,o,n,i,r,l=e("core/editor").getEditedPostAttribute,c=e("core"),s=c.getMedia,d=(0,c.getPostType)(l("type")),u=!1,p=!1;return d&&d.supports["custom-fields"]&&d.supports["custom-fields"]&&(p=!0),p&&(t=l("meta")._carkeekblocks_title_hidden,a=l("meta")._carkeekblocks_featuredimage_hidden,o=l("meta")._carkeekblocks_featured_image_focal_point,i=(n=l("featured_media"))?s(n):null,(u=!(!ckBlocksVars||1!=ckBlocksVars.supportsOpacity))&&101===(r=l("meta")._carkeekblocks_featured_image_opacity)&&(r=parseInt(ckBlocksVars.opacityDefault))),{hideTitle:t,hideFeaturedImage:a,featuredMedia:i,featuredImageFocalPoint:o,supportsMeta:p,featuredImageOpacity:r,supportsOpacity:u}})),l=(0,o.withDispatch)((function(e){var t=e("core/editor").editPost;return{setHideTitle:function(e){t({meta:{_carkeekblocks_title_hidden:e}})},setHideFeaturedImage:function(e){t({meta:{_carkeekblocks_featuredimage_hidden:e}})},setFeaturedImageFocalPoint:function(e){t({meta:{_carkeekblocks_featured_image_focal_point:e}})},setFeaturedImageOpacity:function(e){t({meta:{_carkeekblocks_featured_image_opacity:e}})}}})),c=(0,n.compose)(r,l)((function(o){var n,r,l=o.hideTitle,c=o.setHideTitle,s=o.hideFeaturedImage,d=o.setHideFeaturedImage,u=o.featuredMedia,p=o.featuredImageFocalPoint,m=o.setFeaturedImageFocalPoint,k=o.supportsMeta,g=o.supportsOpacity,f=o.setFeaturedImageOpacity,h=o.featuredImageOpacity,_=document.querySelector(".editor-post-title__block"),b={x:.5,y:.5};if(!g||p&&"object"===i(p)||m(b),_){var y=void 0!==l&&void 0!==l&&l,w=y?"carkeek-blocks-title-hidden":"carkeek-blocks-title-visible";y?document.body.classList.remove("carkeek-blocks-title-visible"):document.body.classList.remove("carkeek-blocks-title-hidden"),document.body.classList.add(w)}if(!s&&u&&u.source_url){var F=u.source_url,v=u.media_details,I=v.width,P=v.height,E=g?"ck-focal-point-wrapper has-opacity":"";n=wp.element.createElement("div",{className:E,style:{"--focal-opacity":h}},wp.element.createElement(a.FocalPointPicker,{label:(0,t.__)("Featured Image Focal Point"),url:F,dimensions:{width:I,height:P},value:p,onChange:function(e){return m(e)}}),wp.element.createElement(a.Button,{variant:"secondary",className:"is-secondary",onClick:function(){m(b)}},"Reset FocalPoint")),g&&(r=wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.RangeControl,{label:"Overlay Opacity",value:h,onChange:function(e){return f(e)},min:0,max:50,step:5})))}var C=wp.element.createElement(a.CheckboxControl,{className:"carkeek-hide-featured-image-label",label:"Hide Featured Image",checked:s,onChange:function(e){return d(e)},help:s?(0,t.__)("The Featured Image is hidden on the rendered page.","carkeek-blocks"):(0,t.__)("The Featured Image is visible on the rendered page.","carkeek-blocks")});return wp.element.createElement(e.PluginDocumentSettingPanel,{name:"page-header-settings-panel",title:"Page Header Settings",className:"page-header-settings-panel"},k&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.CheckboxControl,{className:"carkeek-hide-title-label",label:(0,t.__)("Hide Page Title","carkeek-blocks"),checked:l,onChange:function(e){return c(e)},help:l?(0,t.__)("Title is hidden on the rendered page.","carkeek-blocks"):null}),C,n,r,wp.element.createElement("p",null),wp.element.createElement("p",null,"These settings may not be applied on all pages/posts.")),!k&&wp.element.createElement("p",null,"Not supported for this post type. If you want to use this feature on this post, let your site admin know that this post type must support 'custom-fields'."))}));(0,wp.plugins.registerPlugin)("carkeek-blocks-pageheader",{icon:!1,render:c})}();