!function(){"use strict";var e=wp.editPost,t=wp.i18n,a=wp.components,i=wp.data,l=wp.compose,n=(0,i.withSelect)((function(e){var t,a,i,l,n,o,r,c=e("core/editor").getEditedPostAttribute,s=e("core"),d=s.getMedia,u=(0,s.getPostType)(c("type")),p=!1;return u&&u.supports["custom-fields"]&&u.supports["custom-fields"]&&(p=!0),p&&(a=c("meta")._carkeekblocks_title_hidden,i=c("meta")._carkeekblocks_featuredimage_hidden,l=c("meta")._carkeekblocks_featured_image_focal_point,o=(n=c("featured_media"))?d(n):null),(t=!(!ckBlocksVars||1!=ckBlocksVars.supportsOpacity))&&(r=c("meta")._carkeekblocks_featured_image_opacity),{hideTitle:a,hideFeaturedImage:i,featuredMedia:o,featuredImageFocalPoint:l,supportsMeta:p,featuredImageOpacity:r,supportsOpacity:t}})),o=(0,i.withDispatch)((function(e){var t=e("core/editor").editPost;return{setHideTitle:function(e){t({meta:{_carkeekblocks_title_hidden:e}})},setHideFeaturedImage:function(e){t({meta:{_carkeekblocks_featuredimage_hidden:e}})},setFeaturedImageFocalPoint:function(e){t({meta:{_carkeekblocks_featured_image_focal_point:e}})},setFeaturedImageOpacity:function(e){t({meta:{_carkeekblocks_featured_image_opacity:e}})}}})),r=(0,l.compose)(n,o)((function(i){var l,n,o=i.hideTitle,r=i.setHideTitle,c=i.hideFeaturedImage,s=i.setHideFeaturedImage,d=i.featuredMedia,u=i.featuredImageFocalPoint,p=i.setFeaturedImageFocalPoint,m=i.supportsMeta,k=i.supportsOpacity,g=i.setFeaturedImageOpacity,h=i.featuredImageOpacity;if(document.querySelector(".editor-post-title__block")){var _=void 0!==o&&void 0!==o&&o,f=_?"carkeek-blocks-title-hidden":"carkeek-blocks-title-visible";_?document.body.classList.remove("carkeek-blocks-title-visible"):document.body.classList.remove("carkeek-blocks-title-hidden"),document.body.classList.add(f)}if(h||0===h||g(ckBlocksVars.defaultOpacity),!c&&d&&d.source_url){var b=d.source_url,y=d.media_details,w=y.width,F=y.height,v=k?"ck-focal-point-wrapper has-opacity":"";l=wp.element.createElement("div",{className:v,style:{"--focal-opacity":h}},wp.element.createElement(a.FocalPointPicker,{label:(0,t.__)("Featured Image Focal Point"),url:b,dimensions:{width:w,height:F},value:u,onChange:function(e){return p(e)}}),wp.element.createElement(a.Button,{variant:"secondary",className:"is-secondary",onClick:function(){p({x:.5,y:.5})}},"Reset FocalPoint")),k&&(n=wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.RangeControl,{label:"Overlay Opacity",value:h,onChange:function(e){return g(e)},min:0,max:50,step:5})))}var I=wp.element.createElement(a.CheckboxControl,{className:"carkeek-hide-featured-image-label",label:"Hide Featured Image",checked:c,onChange:function(e){return s(e)},help:c?(0,t.__)("The Featured Image is hidden on the rendered page.","carkeek-blocks"):(0,t.__)("The Featured Image is visible on the rendered page.","carkeek-blocks")});return wp.element.createElement(e.PluginDocumentSettingPanel,{name:"page-header-settings-panel",title:"Page Header Settings",className:"page-header-settings-panel"},m&&wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(a.CheckboxControl,{className:"carkeek-hide-title-label",label:(0,t.__)("Hide Page Title","carkeek-blocks"),checked:o,onChange:function(e){return r(e)},help:o?(0,t.__)("Title is hidden on the rendered page.","carkeek-blocks"):null}),I,l,n,wp.element.createElement("p",null),wp.element.createElement("p",null,"These settings may not be applied on all pages/posts.")),!m&&wp.element.createElement("p",null,"Not supported for this post type. If you want to use this feature on this post, let your site admin know that this post type must support 'custom-fields'."))}));(0,wp.plugins.registerPlugin)("carkeek-blocks-pageheader",{icon:!1,render:r})}();